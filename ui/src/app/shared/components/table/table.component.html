<table>
  <tr>
    <th *ngFor="let colName of config.colNames">
      <div [ngSwitch]="colName">
        <!-- TODO create some sort of rule to detect when to use different cases here-->
        <!-- TODO generalize this table component and introduce strings from `STRINGS{}` -->
        <button *ngSwitchCase="'orb-sink-add'" nbButton ghost=true class="button-new-sink"
                (click)="onAdd()">
          {{strings.sink.list.create}}
        </button>
        <div *ngSwitchDefault>
          {{ colName }}
        </div>
      </div>
    </th>
  </tr>
  <tr *ngFor="let row of page.rows"
      (mouseenter)="onMouseEnter($event, row)"
      (mouseleave)="onMouseLeave($event, row)">
    <td *ngFor="let key of config.keys">
      <div [ngSwitch]="key">
        <div *ngSwitchCase="'checkbox'">
          <nb-checkbox (checkedChange)="onToggleCheckbox(row)"></nb-checkbox>
        </div>
        <div *ngSwitchCase="'time'">
          {{ row[key] | toMillisecs | date:'medium' }}
        </div>
        <div *ngSwitchCase="'status'">
          <div *ngIf="row[key] === 'active'">
            <nb-icon icon="check-mark-circle-2" class="orb-service-active"></nb-icon>
            {{ row[key] }}</div>
          <div *ngIf="row[key] !== 'active'">
            <nb-icon icon="alert-circle" class="orb-service-inactive"></nb-icon>
            {{ row[key] }}</div>
        </div>
        <mat-chip-list *ngSwitchCase="'tags'">
          <mat-chip class="orb-tag-sink " *ngFor="let tag of row[key] | keyvalue">{{tag.value}}</mat-chip>
        </mat-chip-list>
        <div *ngSwitchCase="'created'">
          {{ row[key] | date:'long' }}
        </div>
        <div class="orb-action-hover-container orb-table-actions" *ngSwitchCase="
        'orb-action-hover'">
          <div *ngIf="row['isHover']">
            <button nbButton class="orb-action-hover detail-button" (click)="onDetails(row)">
              <nb-icon icon="search-outline"></nb-icon>
            </button>
            <button nbButton class="orb-action-hover edit-button" (click)="onEdit(row)">
              <nb-icon icon="edit-outline"></nb-icon>
            </button>
            <button nbButton class="orb-action-hover del-button" (click)="onDelete(row)">
              <nb-icon icon="trash-2-outline"></nb-icon>
            </button>
          </div>
        </div>
        <div *ngSwitchDefault>
          <div [ngSwitch]="isObject(row[key])">
            <div *ngSwitchCase="true">
              <pre>{{ row[key] | json }}</pre>
            </div>
            <div *ngSwitchDefault>
              {{ row[key] }}
            </div>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

<div *ngIf="!page.total" class="row no-msg">
  <div class="col-12">
    No content
  </div>
</div>
